import{a as Y,b as w,c as M}from"./chunk-4ZVD3ORZ.js";import{Ca as F,Da as H,E as s,G as d,I as C,Ia as N,L as _,O as o,P as n,U as g,Ua as O,V as x,W as m,Z as v,ca as h,da as a,ea as I,fa as c,ha as b,m as u,ma as S,na as D,oa as E,q as y,r as f,y as l,ya as P,z as p,za as T}from"./chunk-YJTGNYC5.js";function j(t,i){}function V(t,i){if(t&1&&a(0),t&2){let e=m(2);c(" Country code: ",e.country.countryCode," ")}}function $(t,i){if(t&1){let e=g();o(0,"button",7),x("click",function(){let k=y(e).$implicit,A=m(2);return f(A.onYearChange(k))}),a(1),n()}if(t&2){let e=i.$implicit,r=m(2);C("selected",e===r.selectedYear),l(),c(" ",e," ")}}function B(t,i){if(t&1&&(o(0,"li")(1,"strong"),a(2),n(),o(3,"p"),a(4),S(5,"date"),n(),o(6,"p"),a(7),n()()),t&2){let e=i.$implicit;l(2),I(e.name),l(2),c("Date: ",D(5,3,e.date),""),l(3),c("Type: ",e.types.join(", "),"")}}function q(t,i){if(t&1&&(o(0,"div")(1,"ul"),s(2,B,8,5,"li",8),n()()),t&2){let e=m(2);l(2),d("ngForOf",e.holidays)}}function z(t,i){t&1&&(o(0,"p"),a(1,"No holidays available for the selected year."),n())}function G(t,i){if(t&1&&(o(0,"p-card",1),s(1,j,0,0,"ng-template",2)(2,V,1,1,"ng-template",3),o(3,"p")(4,"strong"),a(5,"Official name:"),n(),a(6),n(),o(7,"p")(8,"strong"),a(9,"Region:"),n(),a(10),n()(),o(11,"div")(12,"h2"),a(13),n(),o(14,"div",4),s(15,$,2,3,"button",5),n(),s(16,q,3,1,"div",6)(17,z,2,0,"ng-template",null,0,E),n()),t&2){let e=h(18),r=m();v("header",r.country.commonName),l(6),c(" ",r.country.officialName,""),l(4),c(" ",r.country.region,""),l(3),c("Holidays for ",r.country.commonName,""),l(2),d("ngForOf",r.years),l(),d("ngIf",r.holidays.length>0)("ngIfElse",e)}}var R=class t{constructor(i,e){this.countryService=i;this.route=e}countryCode;country;holidays=[];years=[];selectedYear=new Date().getFullYear();ngOnInit(){this.countryCode=this.route.snapshot.paramMap.get("countryCode")||"",this.countryCode&&this.countryService.getCountryInfo(this.countryCode).subscribe(i=>{this.country=i}),this.years=Array.from({length:11},(i,e)=>2020+e),this.loadHolidays(this.selectedYear)}loadHolidays(i){this.countryService.getHolidayInfo(this.countryCode,i).subscribe(e=>this.holidays=e)}onYearChange(i){this.selectedYear=i,this.loadHolidays(i)}static \u0275fac=function(e){return new(e||t)(p(M),p(N))};static \u0275cmp=u({type:t,selectors:[["app-country-details-page"]],standalone:!0,features:[b],decls:1,vars:1,consts:[["noHolidays",""],["styleClass","country-details-card",3,"header"],["pTemplate","title"],["pTemplate","subtitle"],[1,"year-buttons"],[3,"selected","click",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[3,"click"],[4,"ngFor","ngForOf"]],template:function(e,r){e&1&&s(0,G,19,7),e&2&&_(r.country?0:-1)},dependencies:[w,Y,O,H,P,T,F]})};export{R as CountryDetailsPageComponent};
